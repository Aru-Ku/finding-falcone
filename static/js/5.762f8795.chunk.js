(this["webpackJsonpfinding-falcone"]=this["webpackJsonpfinding-falcone"]||[]).push([[5],{35:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return i}));var n=a(49),c=a.n(n);c.a.defaults.baseURL="https://findfalcone.herokuapp.com/";var l=function(){return c.a.all([c.a.get("/vehicles"),c.a.get("/planets")])},r=function(){return c.a.post("/token","",{headers:{Accept:"application/json"}})},i=function(e){return c.a.post("/find",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})}},36:function(e,t,a){e.exports=a.p+"static/media/Donlon.e3a255ea.webp"},37:function(e,t,a){e.exports=a.p+"static/media/Enchai.6e5c5963.webp"},38:function(e,t,a){e.exports=a.p+"static/media/Jebing.b52dfb12.webp"},39:function(e,t,a){e.exports=a.p+"static/media/Lerbin.b1c644ef.webp"},40:function(e,t,a){e.exports=a.p+"static/media/Pingasor.ce8716c6.webp"},41:function(e,t,a){e.exports=a.p+"static/media/Sapir.67a3933f.webp"},42:function(e,t,a){e.exports=a.p+"static/media/Pod.9934ceb3.webp"},43:function(e,t,a){e.exports=a.p+"static/media/Rocket.a3a11341.webp"},44:function(e,t,a){e.exports=a.p+"static/media/Ship.c8bc9eb7.webp"},45:function(e,t,a){e.exports=a.p+"static/media/Shuttle.146b257a.webp"},46:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=function(e){return e.loading&&c.a.createElement("div",{className:"loader loader-default is-active"})}},50:function(e,t,a){"use strict";var n=a(36),c=a.n(n),l=a(37),r=a.n(l),i=a(38),o=a.n(i),s=a(39),u=a.n(s),p=a(40),m=a.n(p),f=a(41),h=a.n(f),v=a(42),d=a.n(v),b=a(43),g=a.n(b),j=a(44),E=a.n(j),w=a(45),_=a.n(w);t.a=function(e){switch(e){case"Donlon":return c.a;case"Enchai":return r.a;case"Jebing":return o.a;case"Lerbin":return u.a;case"Pingasor":return m.a;case"Sapir":return h.a;case"Space pod":return d.a;case"Space rocket":return g.a;case"Space ship":return E.a;case"Space shuttle":return _.a}}},79:function(e,t,a){e.exports={container:"Solve_container__1W3TV",topBar:"Solve_topBar__TjFZZ",selections:"Solve_selections__14ejx",planetbox:"Solve_planetbox__1Kw4B",wrapper:"Solve_wrapper__2fBmz",select:"Solve_select__PLhwq",solve:"Solve_solve__1-wwt"}},87:function(e,t,a){"use strict";a.r(t);var n=a(47),c=a.n(n),l=a(13);var r=a(20);function i(e){return function(e){if(Array.isArray(e))return Object(l.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=a(48),s=a(17),u=a(0),p=a.n(u),m=a(18),f=a(2),h=a(35),v=a(79),d=a.n(v),b=function(e){var t=e.wrapperClass,a=e.selectClass,n=e.onChange,c=e.fly,l=e.planets;return p.a.createElement("div",{className:t},p.a.createElement("select",{onChange:n,className:a,name:c.name,value:c.planet},p.a.createElement("option",null,c.planet),l.map((function(e){return p.a.createElement("option",{key:e.name,value:e.name},e.name)}))),p.a.createElement("br",null))},g=function(e){var t=e.wrapperClass,a=e.selectClass,n=e.onChange,c=e.fly;return p.a.createElement("div",{className:t},p.a.createElement("select",{onChange:n,className:a,name:c.name,value:c.vehicle},p.a.createElement("option",null,c.vehicle),c.vehicles.map((function(e){return e.total_no>0&&p.a.createElement("option",{key:e.name,value:e.name},e.name," (",e.total_no," avialable)")}))))},j=a(50),E=a(46);t.default=function(){var e=Object(u.useContext)(m.a),t=e.state,a=e.dispatch,n=Object(f.g)(),l=Object(u.useState)(!0),r=Object(s.a)(l,2),v=r[0],w=r[1],_=Object(u.useState)([]),S=Object(s.a)(_,2),O=S[0],y=S[1],x=Object(u.useState)([]),C=Object(s.a)(x,2),T=C[0],k=C[1],P=Object(u.useState)(0),V=Object(s.a)(P,2),N=V[0],B=V[1],A=Object(u.useState)(!1),L=Object(s.a)(A,2),I=L[0],F=L[1],J=Object(u.useState)([]),R=Object(s.a)(J,2),z=R[0],H=R[1],D=Object(u.useState)([]),Z=Object(s.a)(D,2),q=Z[0],K=Z[1],Q=Object(u.useState)([{name:"planet-1",planet:"Planet 1",vehicle:"Vehicle",time:0,selected:!1,vehicles:[]},{name:"planet-2",planet:"Planet 2",vehicle:"Vehicle",time:0,selected:!1,vehicles:[]},{name:"planet-3",planet:"Planet 3",vehicle:"Vehicle",time:0,selected:!1,vehicles:[]},{name:"planet-4",planet:"Planet 4",vehicle:"Vehicle",time:0,selected:!1,vehicles:[]}]),U=Object(s.a)(Q,2),W=U[0],G=U[1],M=Object(u.useCallback)(Object(o.a)(c.a.mark((function e(){var n,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i(t.vehicles),l=i(t.planets),0!==n.length&&0!==l.length){e.next=5;break}return e.next=5,Object(h.b)().then((function(e){a({type:"FETCH_VEHICLES",vehicles:e[0].data}),a({type:"FETCH_PLANETS",planets:e[1].data}),n=e[0].data,l=e[1].data})).catch((function(e){alert("Couldn't get data. Reload Page or Try after some time"),console.error(e)}));case 5:K(l),H(n),y(n),k(l),w(!1);case 10:case"end":return e.stop()}}),e)}))),[a,t,w,K,H,k,y]),X={changePlanet:function(e){var t=W.filter((function(t){return t.name===e.target.name}));if(t[0].selected){var a=q.filter((function(e){return e.name===t[0].planet})).concat(T).filter((function(t){return t.name!==e.target.value}));k(a)}else{var n=T.filter((function(t){return t.name!==e.target.value}));k(n)}var c=i(W),l=T.filter((function(t){return t.name===e.target.value})),r=O.filter((function(e){return e.max_distance>=l[0].distance}));c.map((function(t){return t.name===e.target.name&&(t.selected=!0,t.planet=e.target.value,t.vehicles=r,t.time=0),null})),G(c)},changeVehicle:function(e){var t=i(W);t.map((function(t){return t.name===e.target.name&&(t.vehicle=e.target.value),i(t.vehicles).map((function(t){return t.name===e.target.value&&(t.total_no=t.total_no-1),null})),null}));var a=X.calculateIndividualTime(e,t);X.calculateTotalTime(),G(a),X.showButton()},calculateIndividualTime:function(e,t){var a=i(t),n=a.filter((function(t){return t.name===e.target.name}))[0],c=z.filter((function(e){return n.vehicle===e.name}))[0],l=q.filter((function(e){return n.planet===e.name}))[0];return a.map((function(t){return t.name===e.target.name&&(t.time=l.distance/c.speed),null})),a},calculateTotalTime:function(){var e=0;W.map((function(t){return e+=t.time})),B(e)},showButton:function(){i(W).every((function(e){return"Vehicle"!==e.vehicle}))&&F(!0)},reset:function(){G([{name:"planet-1",planet:"Planet 1",vehicle:"Vehicle",time:0,selected:!1,vehicles:[]},{name:"planet-2",planet:"Planet 2",vehicle:"Vehicle",time:0,selected:!1,vehicles:[]},{name:"planet-3",planet:"Planet 3",vehicle:"Vehicle",time:0,selected:!1,vehicles:[]},{name:"planet-4",planet:"Planet 4",vehicle:"Vehicle",time:0,selected:!1,vehicles:[]}]),w(!0),k([]),y([]),B(0),F(!1),M()},solve:function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,l,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",a={},e.next=4,Object(h.a)().then((function(e){t=e.data.token})).catch((function(e){return console.log(e)}));case 4:return l=[],r=[],W.map((function(e){return l.push(e.planet),r.push(e.vehicle),null})),e.next=9,Object(h.c)({token:t,planet_names:l,vehicle_names:r}).then((function(e){a=e.data})).catch((function(e){return a={error:e}}));case 9:n.push({pathname:"".concat("/finding-falcone","/solution"),state:{planet_names:l,vehicle_names:r,result:a,time:N}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};return Object(u.useEffect)((function(){M()}),[M]),p.a.createElement("div",{className:d.a.container},v?p.a.createElement(E.a,{loading:v}):p.a.createElement(p.a.Fragment,null,p.a.createElement("h1",null,"Select planets and relevant vehicles for searching"),p.a.createElement("div",{className:d.a.topBar},p.a.createElement("button",{onClick:X.reset},"RESET"),p.a.createElement("p",null,"Total Time: ",N)),p.a.createElement("hr",null),p.a.createElement("div",{className:d.a.selections},W.map((function(e){return p.a.createElement("div",{key:e.name,className:d.a.planetbox},p.a.createElement(b,{wrapperClass:d.a.wrapper,selectClass:d.a.select,planets:T,onChange:X.changePlanet,fly:e}),e.selected&&p.a.createElement("img",{src:Object(j.a)(e.planet),alt:e.planet,loading:"lazy"}),e.selected&&p.a.createElement(g,{wrapperClass:d.a.wrapper,selectClass:d.a.select,onChange:X.changeVehicle,fly:e}),"Vehicle"!==e.vehicle&&"Time Taken: "+e.time,"Vehicle"!==e.vehicle&&p.a.createElement("img",{src:Object(j.a)(e.vehicle),alt:e.vehicle,loading:"lazy"}))}))),I&&p.a.createElement("button",{onClick:X.solve,className:d.a.solve},"Search for Queen")))}}}]);